#include <string.h>   // подключаем библиотеку для работы с памятью (memset)
#include <iostream>   // подключаем ввод-вывод (cout, endl)

// Простая структура с двумя целыми числами
struct TwoInts
{
    int a;
    int b;
};

// Структура, содержащая массив и указатель
struct StructWithArray
{
    int arr[4];        // встроенный массив из 4 элементов
    int* someNumber;   // указатель на int (может указывать куда угодно)
};

int main()
{
    // --- Пример с простой структурой ---
    TwoInts i2 = { };  // инициализация структуры нулями (C++11)
    i2.a = 5;          // присваиваем полю 'a' значение 5
    i2.b = 7;          // присваиваем полю 'b' значение 7

    std::cout << i2.a << std::endl; // выводим 5
    std::cout << i2.b << std::endl; // выводим 7
    
    // --- Пример со структурой, содержащей массив ---
    StructWithArray s = { };  // создаём структуру, все поля обнулены
    s.arr[0] = 10;            // записываем в первый элемент массива arr[0] = 10

    StructWithArray s1 = { }; // создаём вторую структуру
    s1.arr[0] = 15;           // записываем в её первый элемент значение 15

    // создаём указатель на структуру и направляем его на s
    StructWithArray* sPointer = &s;

    // через указатель меняем arr[0] структуры s
    sPointer->arr[0] = 20;    // теперь s.arr[0] = 20

    std::cout << s.arr[0] << std::endl; // выведет 20

    s.arr[0] = 25;            // меняем напрямую
    std::cout << s.arr[0] << std::endl; // 25

    sPointer->arr[0] = 30;    // снова через указатель
    std::cout << s.arr[0] << std::endl; // 30

    // теперь указатель переназначаем на другую структуру
    sPointer = &s1;
    sPointer->arr[0] = 35;    // меняем arr[0] у s1, не у s

    std::cout << s.arr[0] << std::endl;  // всё ещё 30 (s не изменился)
    std::cout << s1.arr[0] << std::endl; // теперь 35

    // --- Массив структур ---
    StructWithArray structArray[2] = { }; // создаём массив из двух структур
    structArray[0].arr[3] = 77;           // в первой структуре arr[3] = 77
    structArray[1].someNumber = &structArray[0].arr[3]; // вторая структура хранит указатель на этот элемент

    sPointer = &s;                        // снова указываем на s
    int* pointer = &sPointer->arr[3];     // указатель на 4-й элемент массива внутри структуры s
    s.arr[3] = 72;                        // изменяем этот элемент
    std::cout << *pointer;                // разыменовываем pointer → выведет 72

    // --- Работа с memset ---
    StructWithArray memory;               // создаём новую структуру
    memset(&memory, 0, sizeof(StructWithArray)); // обнуляем всю память внутри структуры

    return 0;
}
